<% currently_at('QUestion') %>

<% provide :page_title, @question.title %>

<h1 class="mb-4"><%= @question.title %></h1>
  <time datetime="<%= @question.formatted_created_at %>">
    <%= @question.formatted_created_at %>
  </time>
  <p class="lead my-3">
    <%= @question.body %>
  </p>
  <%= link_to 'Edit', edit_question_path(@question), class: 'btn btn-secondary' %>
  <%= link_to 'Destroy',
              question_path(@question),
              data: {
                turbo_method: :delete,
                turbo_confirm: 'Are you shure?'
              },
              class: 'btn btn-danger'
  %>
  <hr>

  <h2>Write your answer</h2>

  <%= render 'shared/errors', object: @answer %>

  <%= render 'answers/answer_form' %>

<hr>

<h2 class="mt-5">Answers</h2>

<% @answers.each do |answer| %>
  <article class="">
    <time datetime="<%= answer.formatted_created_at %>">
      <%= answer.formatted_created_at %>
    </time>
    <p>
      <%= answer.body %>
    </p>
    <%= link_to 'Edit', edit_question_answer_path(@question, answer), class: 'btn btn-secondary' %>
    <%= link_to 'Destroy',
                question_answer_path(@question, answer),
                data: {
                  turbo_method: :delete,
                  turbo_confirm: 'Are you shure?'
                },
                class: 'btn btn-danger btn-sm'
    %>
  </article>
<% end %>
